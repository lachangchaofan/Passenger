!function o(r,e,t){function i(n,s){if(!e[n]){if(!r[n]){var h="function"==typeof require&&require;if(!s&&h)return h(n,!0);if(a)return a(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var g=e[n]={exports:{}};r[n][0].call(g.exports,function(o){var e=r[n][1][o];return i(e?e:o)},g,g.exports,o,r,e,t)}return e[n].exports}for(var a="function"==typeof require&&require,n=0;n<t.length;n++)i(t[n]);return i}({1:[function(o,r,e){function t(o){function r(){e++,s.createBg(e,o),s.createShip(e,o),s.shipCrashAero(o),h.createAero(e,o),e>1e3&&(e=0),requestAnimationFrame(r)}var e=i.num;r()}var i=o("./js/global"),a=o("./js/tools"),n=o("./js/load"),s=o("./js/ship"),h=o("./js/aero");a.resizeCanvas(),n.loadingImg({loadImg:i.img,complete:t})},{"./js/aero":2,"./js/global":3,"./js/load":4,"./js/ship":5,"./js/tools":6}],2:[function(o,r,e){function t(o){var r=a.rand(0,100);r>=0&&r<=10?(this.img=o.aero_l,this.w=i.w/7,this.h=i.w/7*1.2):r>10&&r<=70?(this.img=o.aero_m,this.w=i.w/8,this.h=i.w/8*.7):(this.img=o.aero_s,this.w=i.w/9,this.h=i.w/9*.9),this.x=a.rand(0,i.w-this.w),this.y=-this.h,this.speed=3,this.diebol=!1}var i=o("./global"),a=o("./tools");e.createAero=function(o,r){if(o%40==0){var e=new t(r);i.aeroArr.push(e),console.log(i.aeroArr.length)}for(var a=0;a<i.aeroArr.length;a++){var n=i.aeroArr[a].draw(a);n&&a--}},t.prototype.draw=function(o){return this.y+=this.speed,i.ctx.drawImage(this.img,this.x,this.y,this.w,this.h),this.y>i.h&&(i.aeroArr.splice(o,1),!0)}},{"./global":3,"./tools":6}],3:[function(o,r,e){r.exports={appid:"wx61477c05fc1aa64c",serverPath:"http://www.51guess.cn/universe",openid:"",num:0,w:window.innerWidth,h:window.innerHeight,canvas:document.querySelector("#game"),ctx:document.querySelector("#game").getContext("2d"),y:0,img:{},aeroArr:[],gameBol:!1,shipArr:[]}},{}],4:[function(o,r,e){var t=o("./global"),i="resources/images/";t.img={loading:i+"loading/loading.png",rota:i+"common/rota.png",ship1:i+"common/ship.png",bgHome:i+"home/bg.png",jump:i+"home/jump.png",starsky:i+"home/starsky.png",start:i+"home/start.png",bgPlay:i+"play/bg.jpg",ship:i+"play/ship.png",aero_l:i+"play/aero-l.png",aero_m:i+"play/aero-m.png",aero_s:i+"play/aero-s.png"},e.loadingImg=function(o){var r={},e=0;for(var t in o.loadImg)e++;var i=0;for(var t in o.loadImg){var a=new Image;a.src=o.loadImg[t],a.key=t,a.onload=function(){r[this.key]=this,i++,i>=e&&o.complete&&o.complete(r)}}}},{"./global":3}],5:[function(o,r,e){function t(o){this.w=i.w/6,this.h=i.w/6*2.22,this.x=i.w/2-.108*i.w,this.y=i.h-this.h,this.img=o.ship,this.moveBol=!0}var i=o("./global"),a=o("./tools");e.createShip=function(o,r){var e=new t(r);e.draw(),i.canvas.addEventListener("touchmove",function(o){var r=o.touches[0].clientX,t=o.touches[0].clientY;e.x=r,e.y=t,console.log(r,t)},!1)},e.createBg=function(o,r){var e=3.32;o%2==0&&(i.y+=10,i.y>=i.h*e&&(i.y=0)),i.ctx.drawImage(r.bgPlay,0,i.y,i.w,i.h*e),i.ctx.drawImage(r.bgPlay,0,i.y-i.h*e,i.w,i.h*e)},e.shipCrashAero=function(o){for(var r=0;r<i.aeroArr.length;r++){var e={x:i.aeroArr[r].x,y:i.aeroArr[r].y,w:i.aeroArr[r].w,h:i.aeroArr[r].h};a.crash(e,new t(o))&&(i.gameBol=!0)}},t.prototype.move=function(o){this.moveBol?(this.img=o.ship,this.moveBol=!1):(this.img=o.ship,this.moveBol=!0)},t.prototype.draw=function(o){o%6==0&&this.move(),i.ctx.drawImage(this.img,this.x,this.y,this.w,this.h)}},{"./global":3,"./tools":6}],6:[function(o,r,e){var t=o("./global");e.resizeCanvas=function(){t.canvas.width=t.w,t.canvas.height=t.h,window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame},e.rand=function(o,r){return parseInt(Math.random()*(r-o+1)+o)},e.crash=function(o,r){var e=o.x,t=o.x+o.w,i=o.y,a=o.y+o.h,n=r.x,s=r.x+r.w,h=r.y,l=r.y+r.h,g=e<s&&t>n&&i<l&&a>h;return g}},{"./global":3}]},{},[1]);
//# sourceMappingURL=index.js.map
